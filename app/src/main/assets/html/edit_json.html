<!DOCTYPE HTML>
<html>
<head>
    <!-- when using the mode "code", it's important to specify charset utf-8 -->
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">

    <link href="app.min.css" rel="stylesheet" type="text/css">
    <script src="app.min.js"></script>
</head>
<body>
<div id="jsoneditor" style="width: 100%; height: 80%;"></div>

<button id='submit'>Done</button>

<script>
        // create the editor
        const container = document.getElementById("jsoneditor")
        const options = {
            onChange: function() { Android.onChangeText(editor.getText()); },
            escapeUnicode: false,
            sortObjectKeys: true,
            history: true,
            mode: 'tree',
            search: true,
            colorPicker: true,
            enableSort: true,
            enableTransform: true
        }

        // TODO:
        // Add validation, and view for errors
        // Autocomplete

        const editor = new JSONEditor(container, options)

        document.getElementById("submit").addEventListener('click', function() {
            Android.onResult(editor.getText());
        })
    </script>
</body>
</html>
